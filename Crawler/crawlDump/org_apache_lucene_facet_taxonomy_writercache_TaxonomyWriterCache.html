<DOC>
<DOCNO> crawlDump/org_apache_lucene_facet_taxonomy_writercache_TaxonomyWriterCache.html </DOCNO>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" SYSTEM "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
 <head>
  <!-- Generated by javadoc (version 1.7.0_01) on Wed Apr 11 21:46:53 EDT 2012 -->
  <meta charset="utf-8" content="text/html" http-equiv="Content-Type" />
  <title>
   TaxonomyWriterCache (Lucene 3.6.0 API)
  </title>
  <meta content="2012-04-11" name="date" />
  <link href="../../../../../../stylesheet.css" rel="stylesheet" title="Style" type="text/css" />
 </head>
 <body>
  <script type="text/javascript">
   <!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TaxonomyWriterCache (Lucene 3.6.0 API)";
    }
//-->
  </script>
  <noscript>
   <div>
    JavaScript is disabled on your browser.
   </div>
  </noscript>
  <!-- ========= START OF TOP NAVBAR ======= -->
  <div class="topNav">
   <a name="navbar_top">
    <!-- -->
   </a>
   <a href="#skip-navbar_top" title="Skip navigation links">
   </a>
   <a name="navbar_top_firstrow">
    <!-- -->
   </a>
   <ul class="navList" title="Navigation">
    <li>
     <a href="../../../../../../overview-summary.html">
      Overview
     </a>
    </li>
    <li>
     <a href="package-summary.html">
      Package
     </a>
    </li>
    <li class="navBarCell1Rev">
     Class
    </li>
    <li>
     <a href="class-use/TaxonomyWriterCache.html">
      Use
     </a>
    </li>
    <li>
     <a href="package-tree.html">
      Tree
     </a>
    </li>
    <li>
     <a href="../../../../../../deprecated-list.html">
      Deprecated
     </a>
    </li>
    <li>
     <a href="../../../../../../index-all.html">
      Index
     </a>
    </li>
    <li>
     <a href="../../../../../../help-doc.html">
      Help
     </a>
    </li>
   </ul>
  </div>
  <div class="subNav">
   <ul class="navList">
    <li>
     Prev Class
    </li>
    <li>
     Next Class
    </li>
   </ul>
   <ul class="navList">
    <li>
     <a href="../../../../../../index.html?org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html" target="_top">
      Frames
     </a>
    </li>
    <li>
     <a href="TaxonomyWriterCache.html" target="_top">
      No Frames
     </a>
    </li>
   </ul>
   <ul class="navList" id="allclasses_navbar_top">
    <li>
     <a href="../../../../../../allclasses-noframe.html">
      All Classes
     </a>
    </li>
   </ul>
   <div>
    <script type="text/javascript">
     <!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
    </script>
   </div>
   <div>
    <ul class="subNavList">
     <li>
      Summary:
     </li>
     <li>
      Nested |
     </li>
     <li>
      Field |
     </li>
     <li>
      Constr |
     </li>
     <li>
      <a href="#method_summary">
       Method
      </a>
     </li>
    </ul>
    <ul class="subNavList">
     <li>
      Detail:
     </li>
     <li>
      Field |
     </li>
     <li>
      Constr |
     </li>
     <li>
      <a href="#method_detail">
       Method
      </a>
     </li>
    </ul>
   </div>
   <a name="skip-navbar_top">
    <!-- -->
   </a>
  </div>
  <!-- ========= END OF TOP NAVBAR ========= -->
  <!-- ======== START OF CLASS DATA ======== -->
  <div class="header">
   <div class="subTitle">
    org.apache.lucene.facet.taxonomy.writercache
   </div>
   <h2 class="title" title="Interface TaxonomyWriterCache">
    Interface TaxonomyWriterCache
   </h2>
  </div>
  <div class="contentContainer">
   <div class="description">
    <ul class="blockList">
     <li class="blockList">
      <dl>
       <dt>
        All Known Implementing Classes:
       </dt>
       <dd>
        <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/cl2o/Cl2oTaxonomyWriterCache.html" title="class in org.apache.lucene.facet.taxonomy.writercache.cl2o">
         Cl2oTaxonomyWriterCache
        </a>
        ,
        <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/lru/LruTaxonomyWriterCache.html" title="class in org.apache.lucene.facet.taxonomy.writercache.lru">
         LruTaxonomyWriterCache
        </a>
       </dd>
      </dl>
      <hr />
      <br />
      <pre>
       public interface
       <span class="strong">
        TaxonomyWriterCache
       </span>
      </pre>
      <div class="block">
       TaxonomyWriterCache is a relatively simple interface for a cache of
 category->ordinal mappings, used in TaxonomyWriter implementations
 (such as
       <a href="../../../../../../org/apache/lucene/facet/taxonomy/directory/DirectoryTaxonomyWriter.html" title="class in org.apache.lucene.facet.taxonomy.directory">
        <code>
         DirectoryTaxonomyWriter
        </code>
       </a>
       ).
       <p>
        It basically has put() methods for adding a mapping, and get() for looking
 a mapping up the cache. The cache does
        <b>
         not
        </b>
        guarantee to hold
 everything that has been put into it, and might in fact selectively
 delete some of the mappings (e.g., the ones least recently used).
 This means that if get() returns a negative response, it does not
 necessarily mean that the category doesn't exist - just that it is not
 in the cache. The caller can only infer that the category doesn't exist
 if it knows the cache to be complete (because all the categories were
 loaded into the cache, and since then no put() returned true).
       </p>
       <p>
        However,
 if it does so, it should clear out large parts of the cache at once, because
 the user will typically need to work hard to recover from every cache
 cleanup (see
        <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#put(org.apache.lucene.facet.taxonomy.CategoryPath, int)">
         <code>
          put(CategoryPath, int)
         </code>
        </a>
        's return value).
       </p>
      </div>
      <dl>
       <dt>
        <span class="strong">
         WARNING: This API is experimental and might change in incompatible ways in the next release.
        </span>
       </dt>
       <dd>
       </dd>
      </dl>
     </li>
    </ul>
   </div>
   <div class="summary">
    <ul class="blockList">
     <li class="blockList">
      <!-- ========== METHOD SUMMARY =========== -->
      <ul class="blockList">
       <li class="blockList">
        <a name="method_summary">
         <!-- -->
        </a>
        <h3>
         Method Summary
        </h3>
        <table border="0" cellpadding="3" cellspacing="0" class="overviewSummary" summary="Method Summary table, listing methods, and an explanation">
         <caption>
          <span>
           Methods
          </span>
          <span class="tabEnd">
          </span>
         </caption>
         <tr>
          <th class="colFirst" scope="col">
           Modifier and Type
          </th>
          <th class="colLast" scope="col">
           Method and Description
          </th>
         </tr>
         <tr class="altColor">
          <td class="colFirst">
           <code>
            void
           </code>
          </td>
          <td class="colLast">
           <code>
            <strong>
             <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#close()">
              close
             </a>
            </strong>
            ()
           </code>
           <div class="block">
            Let go of whatever resources the cache is holding.
           </div>
          </td>
         </tr>
         <tr class="rowColor">
          <td class="colFirst">
           <code>
            int
           </code>
          </td>
          <td class="colLast">
           <code>
            <strong>
             <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#get(org.apache.lucene.facet.taxonomy.CategoryPath)">
              get
             </a>
            </strong>
            (
            <a href="../../../../../../org/apache/lucene/facet/taxonomy/CategoryPath.html" title="class in org.apache.lucene.facet.taxonomy">
             CategoryPath
            </a>
            categoryPath)
           </code>
           <div class="block">
            Lookup a category in the cache, returning its ordinal, or a negative
 number if the category is not in the cache.
           </div>
          </td>
         </tr>
         <tr class="altColor">
          <td class="colFirst">
           <code>
            int
           </code>
          </td>
          <td class="colLast">
           <code>
            <strong>
             <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#get(org.apache.lucene.facet.taxonomy.CategoryPath, int)">
              get
             </a>
            </strong>
            (
            <a href="../../../../../../org/apache/lucene/facet/taxonomy/CategoryPath.html" title="class in org.apache.lucene.facet.taxonomy">
             CategoryPath
            </a>
            categoryPath,
   int length)
           </code>
           <div class="block">
            Like
            <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#get(org.apache.lucene.facet.taxonomy.CategoryPath)">
             <code>
              get(CategoryPath)
             </code>
            </a>
            , but for a given prefix of the
 category path.
           </div>
          </td>
         </tr>
         <tr class="rowColor">
          <td class="colFirst">
           <code>
            boolean
           </code>
          </td>
          <td class="colLast">
           <code>
            <strong>
             <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#hasRoom(int)">
              hasRoom
             </a>
            </strong>
            (int numberOfEntries)
           </code>
           <div class="block">
            Sometimes the cache is either unlimited in size, or limited by a very
 big size, and in that case when we add a lot of categories it might
 make sense to pre-load the cache with all the existing categories.
           </div>
          </td>
         </tr>
         <tr class="altColor">
          <td class="colFirst">
           <code>
            boolean
           </code>
          </td>
          <td class="colLast">
           <code>
            <strong>
             <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#put(org.apache.lucene.facet.taxonomy.CategoryPath, int)">
              put
             </a>
            </strong>
            (
            <a href="../../../../../../org/apache/lucene/facet/taxonomy/CategoryPath.html" title="class in org.apache.lucene.facet.taxonomy">
             CategoryPath
            </a>
            categoryPath,
   int ordinal)
           </code>
           <div class="block">
            Add a category to the cache, with the given ordinal as the value.
           </div>
          </td>
         </tr>
         <tr class="rowColor">
          <td class="colFirst">
           <code>
            boolean
           </code>
          </td>
          <td class="colLast">
           <code>
            <strong>
             <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#put(org.apache.lucene.facet.taxonomy.CategoryPath, int, int)">
              put
             </a>
            </strong>
            (
            <a href="../../../../../../org/apache/lucene/facet/taxonomy/CategoryPath.html" title="class in org.apache.lucene.facet.taxonomy">
             CategoryPath
            </a>
            categoryPath,
   int prefixLen,
   int ordinal)
           </code>
           <div class="block">
            Like
            <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#put(org.apache.lucene.facet.taxonomy.CategoryPath, int)">
             <code>
              put(CategoryPath, int)
             </code>
            </a>
            , but for a given prefix of the
 category path.
           </div>
          </td>
         </tr>
        </table>
       </li>
      </ul>
     </li>
    </ul>
   </div>
   <div class="details">
    <ul class="blockList">
     <li class="blockList">
      <!-- ============ METHOD DETAIL ========== -->
      <ul class="blockList">
       <li class="blockList">
        <a name="method_detail">
         <!-- -->
        </a>
        <h3>
         Method Detail
        </h3>
        <a name="close()">
         <!-- -->
        </a>
        <ul class="blockList">
         <li class="blockList">
          <h4>
           close
          </h4>
          <pre>
           void close()
          </pre>
          <div class="block">
           Let go of whatever resources the cache is holding. After a close(),
 this object can no longer be used.
          </div>
         </li>
        </ul>
        <a name="get(org.apache.lucene.facet.taxonomy.CategoryPath)">
         <!-- -->
        </a>
        <ul class="blockList">
         <li class="blockList">
          <h4>
           get
          </h4>
          <pre>
           int get(
           <a href="../../../../../../org/apache/lucene/facet/taxonomy/CategoryPath.html" title="class in org.apache.lucene.facet.taxonomy">
            CategoryPath
           </a>
           categoryPath)
          </pre>
          <div class="block">
           Lookup a category in the cache, returning its ordinal, or a negative
 number if the category is not in the cache.
           <p>
            It is up to the caller to remember what a negative response means:
 If the caller knows the cache is
            <i>
             complete
            </i>
            (it was initially
 fed with all the categories, and since then put() never returned true)
 it means the category does not exist. Otherwise, the category might
 still exist, but just be missing from the cache.
           </p>
          </div>
         </li>
        </ul>
        <a name="get(org.apache.lucene.facet.taxonomy.CategoryPath, int)">
         <!-- -->
        </a>
        <ul class="blockList">
         <li class="blockList">
          <h4>
           get
          </h4>
          <pre>
           int get(
           <a href="../../../../../../org/apache/lucene/facet/taxonomy/CategoryPath.html" title="class in org.apache.lucene.facet.taxonomy">
            CategoryPath
           </a>
           categoryPath,
      int length)
          </pre>
          <div class="block">
           Like
           <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#get(org.apache.lucene.facet.taxonomy.CategoryPath)">
            <code>
             get(CategoryPath)
            </code>
           </a>
           , but for a given prefix of the
 category path.
           <p>
            If the given length is negative or bigger than the path's actual
 length, the full path is taken.
           </p>
          </div>
         </li>
        </ul>
        <a name="put(org.apache.lucene.facet.taxonomy.CategoryPath, int)">
         <!-- -->
        </a>
        <ul class="blockList">
         <li class="blockList">
          <h4>
           put
          </h4>
          <pre>
           boolean put(
           <a href="../../../../../../org/apache/lucene/facet/taxonomy/CategoryPath.html" title="class in org.apache.lucene.facet.taxonomy">
            CategoryPath
           </a>
           categoryPath,
          int ordinal)
          </pre>
          <div class="block">
           Add a category to the cache, with the given ordinal as the value.
           <p>
            If the implementation keeps only a partial cache (e.g., an LRU cache)
 and finds that its cache is full, it should clear up part of the cache
 and return
            <code>
             true
            </code>
            . Otherwise, it should return
            <code>
             false
            </code>
            .
           </p>
           <p>
            The reason why the caller needs to know if part of the cache was
 cleared is that in that case it will have to commit its on-disk index
 (so that all the latest category additions can be searched on disk, if
 we can't rely on the cache to contain them).
           </p>
           <p>
            Ordinals should be non-negative. Currently there is no defined way to
 specify that a cache should remember a category does NOT exist.
 It doesn't really matter, because normally the next thing we do after
 finding that a category does not exist is to add it.
           </p>
          </div>
         </li>
        </ul>
        <a name="put(org.apache.lucene.facet.taxonomy.CategoryPath, int, int)">
         <!-- -->
        </a>
        <ul class="blockList">
         <li class="blockList">
          <h4>
           put
          </h4>
          <pre>
           boolean put(
           <a href="../../../../../../org/apache/lucene/facet/taxonomy/CategoryPath.html" title="class in org.apache.lucene.facet.taxonomy">
            CategoryPath
           </a>
           categoryPath,
          int prefixLen,
          int ordinal)
          </pre>
          <div class="block">
           Like
           <a href="../../../../../../org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html#put(org.apache.lucene.facet.taxonomy.CategoryPath, int)">
            <code>
             put(CategoryPath, int)
            </code>
           </a>
           , but for a given prefix of the
 category path.
           <p>
            If the given length is negative or bigger than the path's actual
 length, the full path is taken.
           </p>
          </div>
         </li>
        </ul>
        <a name="hasRoom(int)">
         <!-- -->
        </a>
        <ul class="blockListLast">
         <li class="blockList">
          <h4>
           hasRoom
          </h4>
          <pre>
           boolean hasRoom(int numberOfEntries)
          </pre>
          <div class="block">
           Sometimes the cache is either unlimited in size, or limited by a very
 big size, and in that case when we add a lot of categories it might
 make sense to pre-load the cache with all the existing categories.
 However, this pre-load does not make sense when the allowed cache
 size is small. The hasRoom() method allows to differentiate between
 these cases.
           <p>
            After hasRoom(n) returned
            <code>
             true
            </code>
            , the following n put()
 should return false (meaning that the cache was not cleared).
           </p>
          </div>
         </li>
        </ul>
       </li>
      </ul>
     </li>
    </ul>
   </div>
  </div>
  <!-- ========= END OF CLASS DATA ========= -->
  <!-- ======= START OF BOTTOM NAVBAR ====== -->
  <div class="bottomNav">
   <a name="navbar_bottom">
    <!-- -->
   </a>
   <a href="#skip-navbar_bottom" title="Skip navigation links">
   </a>
   <a name="navbar_bottom_firstrow">
    <!-- -->
   </a>
   <ul class="navList" title="Navigation">
    <li>
     <a href="../../../../../../overview-summary.html">
      Overview
     </a>
    </li>
    <li>
     <a href="package-summary.html">
      Package
     </a>
    </li>
    <li class="navBarCell1Rev">
     Class
    </li>
    <li>
     <a href="class-use/TaxonomyWriterCache.html">
      Use
     </a>
    </li>
    <li>
     <a href="package-tree.html">
      Tree
     </a>
    </li>
    <li>
     <a href="../../../../../../deprecated-list.html">
      Deprecated
     </a>
    </li>
    <li>
     <a href="../../../../../../index-all.html">
      Index
     </a>
    </li>
    <li>
     <a href="../../../../../../help-doc.html">
      Help
     </a>
    </li>
   </ul>
  </div>
  <div class="subNav">
   <ul class="navList">
    <li>
     Prev Class
    </li>
    <li>
     Next Class
    </li>
   </ul>
   <ul class="navList">
    <li>
     <a href="../../../../../../index.html?org/apache/lucene/facet/taxonomy/writercache/TaxonomyWriterCache.html" target="_top">
      Frames
     </a>
    </li>
    <li>
     <a href="TaxonomyWriterCache.html" target="_top">
      No Frames
     </a>
    </li>
   </ul>
   <ul class="navList" id="allclasses_navbar_bottom">
    <li>
     <a href="../../../../../../allclasses-noframe.html">
      All Classes
     </a>
    </li>
   </ul>
   <div>
    <script type="text/javascript">
     <!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
    </script>
   </div>
   <div>
    <ul class="subNavList">
     <li>
      Summary:
     </li>
     <li>
      Nested |
     </li>
     <li>
      Field |
     </li>
     <li>
      Constr |
     </li>
     <li>
      <a href="#method_summary">
       Method
      </a>
     </li>
    </ul>
    <ul class="subNavList">
     <li>
      Detail:
     </li>
     <li>
      Field |
     </li>
     <li>
      Constr |
     </li>
     <li>
      <a href="#method_detail">
       Method
      </a>
     </li>
    </ul>
   </div>
   <a name="skip-navbar_bottom">
    <!-- -->
   </a>
  </div>
  <!-- ======== END OF BOTTOM NAVBAR ======= -->
  <p class="legalCopy">
   <small>
    <script src="../../../../../../prettify.js" type="text/javascript">
    </script>
    <script type="text/javascript">
     (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
    </script>
   </small>
  </p>
 </body>
</html></DOC>